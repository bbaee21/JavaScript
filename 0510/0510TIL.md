# 0510TIL



* #### `Vue lifecycle`

  * Vue 인스턴스나 컴포넌트가 생성될 때, 사전에 정의된 몇 단계를 거치는 과정
  * Vue 인스턴스가 생성되고 사라지기까지의 단계

![The Vue Instance Lifecycle](https://kr.vuejs.org/images/lifecycle.png)

* Vue 인스턴스는 생성(create), 합쳐지고(mount), 업데이트(update), 사라지는(destroy)의 과정을 거친다.
* 각 단계에서 Hook을 할 수 있도록 API를 제공하는데, `beforeCreate`, `created`, `beforeMount`, `mounted`, `beforeUpdate`, `updated`, `beforeDestroy`, `destroyed` 를 많이 사용한다.





* #### `beforeCreate`

  * 가장 먼저 실행되는 훅
  * Vue 인스턴스가 초기화된 직후에 실행됨.
  * component가 DOM에 추가되기 전이라서, element에 접근 X 
  * data, event, watcher에도 접근 전이라서 data와 methods에도 접근 X



* #### `created`

  * data 반응형으로 추적가능하고, computed, methods, watch 등 접근 가능해짐
  * 하지만 아직까지 DOM에 추가되지 않은 상태
  * data 접근이 가능해서, component 초기에 외부에서 받아온 값들로 data 세팅하거나 이벤트 리스너 선언 시 이 단계에서 하는 것이 적절하다.
  * vue 인스턴스 생성, 초기화 후



* #### `beforeMount`

  * DOM에 붙이기 직전에 호출
  * 지금 단계 전에서 템플릿 유무를 확인하고 템플릿 렌더링 한 상태라서, 가상 DOM은 있지만, 실제 DOM에 부착된 상태는 아님



* #### `mounted`

  * 일반적으로 많이 사용하는 훅
  * 가상 DOM이 실제 DOM에 부착되고 실행되서, this.$el / data / computed / methods / watch 등 모든 요소 접근 가능
  * 일반적으로 부모 자식 컴포넌트 간 mounted 훅 순서는 항상 자식 컴포넌트의 mounted 훅이 먼저 실행. 그 이후에 부모 컴포넌트의 mounted 훅 실행
  * 근데 자식 컴포넌트가 서버에서 비동기로 데이터를 받아오는 경우, 부모의 mounted 훅이 모든 자식 컴포넌트가 mount된 상태 보장 X -> `this.$nextTick`을 이요하면 모든 화면이 렌더링 된 후에 실행되서 mount상태 보장



* #### `beforeUpdate`

  * data의 값이 변해서 DOM에 변화 적용시켜야 할 때, 변화 직전에 호출되는 훅
  * 변할 값을 이용해서 가상 DOM을 렌더링 하기 전이지만, 값을 이용해서 작업 가능
  * 이 훅에서 값들을 추가적으로 변화시켜도 렌더링 추가 호출X



* #### `updated`

  * 가상 DOM 렌더링 후 실제 DOM 변경 이후에 호출되는 훅
  * 변경된 data가 DOM에도 적용된 상태, 변경된 값들을 DOM을 통해 접근하고 싶다면 updated 훅 사용
  * 하지만 updated 훅에서 직접 data 변경 시 무한 루프에 빠질 수 있으니, 데이터 직접 바꾸는 건 X
  * mounted 훅 처럼 this.$nextTick 을 통해 모든 화면 업데이트 후의 상태 보장 가능



* #### `beforeDestroy`

  * 인스턴스가 해체되기 전 호출
  * 해체되기 전이므로 인스턴스는 완전하게 작동, 모든 속성에 접근 가능
  * 이벤트 리스터 해제하는 등 인스턴스 해체 전에 해야할 일들 처리하면 됨



* #### `destroyed`

  * 인스턴스 해체 직 후 호출됨
  * 해체 이후기 때문에, 인스턴스 속성 접근 X, 하위 Vue 인스턴스 또한 삭제된다.