# 0505



* like 기능 새로고침 없이 구현해보기
* ajax, axios 활용해서 할 수 있다. 
* 기존의 like 기능은 새로고침되면서 상태가 변경됐는데, ajax 활용하면 새로고침 없이 like 기능 사용할 수 있다.

* 기억해야할 것

  * data-set 이용해서 JS에 정보 전달 가능하게 추가해야한다.

    * ```
      사용 시 
      -> data-article-id="{{ article.pk }}" 
      event listener에 사용 시 camel tag 형식으로 사용 
      -> articleID
      ```

* **순서**
  * like 버튼에 이벤트 리스너 달아야한다.
    * 좋아요 여러개, 로그인 헷갈리는 경우 있으니 해결해야 한다.
  * 콜백함수를 작성한다.(like 요청하는 함수)
    * articles/게시글.pk/likes/ -> 게시글.pk를 data-set으로 해결한다.
    * 어떤 주소로 요청할 것인지 생각
    * axios.post 요청(정보를 읽어오는것만 하는게 아니라 상태 변경해야하니까)
      * csrf-token 이슈도 해결해야한다.
    * 응답을 받는다.
      * 기존은 HTML 형식으로 받았는데, JSON 형식으로 받아서 해보자
    * DOM 조작을 통해서 변경한다.
    * 추가로 로그인 하지 않았을 때 JS에서 login 페이지로 이동하게 한다.